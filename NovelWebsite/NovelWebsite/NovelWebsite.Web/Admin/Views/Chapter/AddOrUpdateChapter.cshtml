@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="~/css/admin/adminedit.css">
<script type="text/javascript" src="~/js/importdata.js"></script>

<div class="edit--main-body">
    <div class="row">
        <div class="col-md-12">
            <h3 class="editor--header">Giao diện chỉnh sửa chương</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Tên truyện:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content input-group">
                <input type="text" class="editbook--name form-control" value="Đây là tên truyện" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Tác giả:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content input-group">
                <input type="text" class="editbook--name form-control" value="Đây là tên tác giả" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Tên chương:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content input-group">
                <input type="text" class="editbook--name form-control" value="Đây là tên chương" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Chương số:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content input-group">
                <input type="text" class="editbook--name form-control" value="Chương số xxx" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Thumbnail:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--img-wrap">
                <div class="editor--img-container">
                    <img src="/image/test.jpg">
                </div>
                <button class="btn btn-primary" onclick="importData()">Đổi ảnh</button>
            </div>
        </div>
    </div>
    <!-- <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Chương số:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content editbook--chapter">1234</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Tên chương:</h4>
        </div>
        <div class="col-md-10 editor-off">
            <div class="editor--content editbook--chapter-title">
                <div class="editbook--chapter-title-content">Đây là tên chương</div>
                <button class="btn btn-primary" onclick="onClickSua(this)">Sửa</button>
            </div>
        </div>
        <div class="col-md-10 d-none editor-on">
            <textarea rows="1" cols="60" class="editbook--chapter-title-fix"></textarea>
            <button class="btn btn-primary" onclick="onClickLuu(this,1)">Lưu</button>
        </div>
    </div> -->
    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Thể loại:</h4>
        </div>
        <!-- <div class="col-md-10 editor-off">
            <div class="editor--content editbook--catagory-title">
                <div class="editbook--catagory-title-content">Tên thể loại</div>
                <button class="btn btn-primary" onclick="onClickSua(this,1)">Sửa</button>
            </div>
        </div>
        <div class="col-md-10 d-none">
            <textarea rows="1" cols="60" class="editbook--catagory-title-fix"></textarea>
            <button class="btn btn-primary" onclick="onClickLuu(this,2)">Lưu</button>
        </div> -->
        <div class="col-md-10">
            <div class="editor--content">
                <select class="form-select">
                    <option>Thể loại 1</option>
                    <option>Thể loại 2</option>
                    <option>Thể loại 3</option>
                    <option>Thể loại 4</option>
                    <option>Thể loại 5</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            <h4 class="editor--title">Thể loại phụ:</h4>
        </div>
        <div class="col-md-10">
            <div class="editor--content sub-catagory">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">Option 1</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">Option 2</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">Option 3</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">Option 4</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                    <label class="form-check-label">Option 5</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <h4 class="editor--title">Nội dung chương:</h4>
        </div>
        <div class="col-12">
            <div class="input-comment col">
                <div id="chapterpost-toolbar"></div>
                <div id="chapterpost-editor" class="input--box"></div>
            </div>
        </div>
    </div>

    <button class="btn btn-primary submit-btn" type="submit">Chỉnh sửa</button>
</div>

<script>
    DecoupledEditor
        .create(document.querySelector('#chapterpost-editor'), {
            toolbar: {
                items: [
                    'selectAll', '|',
                    'heading', '|',
                    'bold', 'italic', 'strikethrough', 'underline', '|',
                    'bulletedList', 'numberedList', '|',
                    'outdent', 'indent', '|',
                    'undo', 'redo',
                    '-',
                    'fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor', '|',
                    'alignment', '|',
                    'link', 'blockQuote', 'insertTable', 'mediaEmbed', '|',
                ],
                shouldNotGroupWhenFull: true
            },
            // Changing the language of the interface requires loading the language file using the <script> tag.
            language: 'vi',
            list: {
                properties: {
                    styles: true,
                    startIndex: true,
                    reversed: true
                }
            },

            heading: {
                options: [
                    { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                    { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
                    { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' },
                    { model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' },
                    { model: 'heading4', view: 'h4', title: 'Heading 4', class: 'ck-heading_heading4' },
                    { model: 'heading5', view: 'h5', title: 'Heading 5', class: 'ck-heading_heading5' },
                    { model: 'heading6', view: 'h6', title: 'Heading 6', class: 'ck-heading_heading6' }
                ]
            },

            // placeholder: 'Welcome to CKEditor 5!',

            fontFamily: {
                options: [
                    'default',
                    'Arial, Helvetica, sans-serif',
                    'Courier New, Courier, monospace',
                    'Georgia, serif',
                    'Lucida Sans Unicode, Lucida Grande, sans-serif',
                    'Tahoma, Geneva, sans-serif',
                    'Times New Roman, Times, serif',
                    'Trebuchet MS, Helvetica, sans-serif',
                    'Verdana, Geneva, sans-serif'
                ],
                supportAllValues: true
            },

            fontSize: {
                options: [10, 12, 14, 'default', 18, 20, 22],
                supportAllValues: true
            },

        })
        .then(editor => {
            const toolbarContainer = document.querySelector('#chapterpost-toolbar');

            toolbarContainer.prepend(editor.ui.view.toolbar.element);

            window.editor = editor;
        })
        .catch(err => {
            console.error(err.stack);
        });
</script>
